require=function s(a,c,h){function l(e,t){if(!c[e]){if(!a[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(r)return r(e,!0);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}var n=c[e]={exports:{}};a[e][0].call(n.exports,function(t){return l(a[e][1][t]||t)},n,n.exports,s,a,c,h)}return c[e].exports}for(var r="function"==typeof require&&require,t=0;t<h.length;t++)l(h[t]);return l}({AnimateFadeIn:[function(t,e,i){"use strict";cc._RF.push(e,"60609PUVBRD1aoUwDiIRM2b","AnimateFadeIn"),cc.Class({extends:cc.Component,properties:{delay:0},onLoad:function(){this.node.setOpacity(0),this.node.setScale(0)},start:function(){this.node.runAction(new cc.Sequence(new cc.DelayTime(this.delay),new cc.Spawn(new cc.FadeTo(.5,255),new cc.EaseBackOut(new cc.ScaleTo(.5,1)))))}}),cc._RF.pop()},{}],CanvasAuto:[function(t,e,i){"use strict";cc._RF.push(e,"375bcKySohFvqoM1z/DGJPS","CanvasAuto"),cc.Class({extends:cc.Canvas,properties:{},start:function(){},applySettings:function(){var t,e=cc.ResolutionPolicy,i=cc.visibleRect;t=i.width/i.height<this._designResolution.width/this._designResolution.height?e.FIXED_WIDTH:e.FIXED_HEIGHT;var o=this._designResolution;cc.view.setDesignResolutionSize(o.width,o.height,t)}}),cc._RF.pop()},{}],CommonButton:[function(t,e,i){"use strict";cc._RF.push(e,"38c6aSzZ7lPhLYjSwx3NBJ3","CommonButton"),cc.Class({extends:cc.Component,properties:{event:[cc.Component.EventHandler],enable:!0,fbAnalyticsEvent:""},onLoad:function(){this.bgmController=cc.find("bgmController"),this.node.on(cc.Node.EventType.TOUCH_START,function(t){if(this.enable)return this.onDown(),!0},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.enable},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){if(this.enable){this.onUp();for(var e=0;e<this.event.length;e++)this.event[e].emit();this.playEffect()}},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.enable&&this.onUp()},this)},onDown:function(){this.node.setScale(.9)},onUp:function(){this.node.setScale(1)},playEffect:function(){this.bgmController.playButton()},setEnable:function(t){this.enable=t}}),cc._RF.pop()},{}],EffectForShaderToy:[function(t,e,i){"use strict";cc._RF.push(e,"ec0bddz0EhL45aBJr4t9QLx","EffectForShaderToy");var o=t("../shader/Shaders/ccShader_Default_Vert.js"),n=t("../shader/Shaders/ccShader_Default_Vert_noMVP.js");cc.Class({extends:cc.Component,properties:{glassFactor:1,flagShader:"",frag_glsl:{default:"Effect10.fs.glsl",visible:!1}},onLoad:function(){var i=this,t=new Date;this.parameters={startTime:Date.now(),time:0,mouse:{x:0,y:0,z:0,w:0},resolution:{x:0,y:0,z:1},date:{x:t.getYear(),y:t.getMonth(),z:t.getDate(),w:t.getTime()+t.getMilliseconds()/1e3},isMouseDown:!1},this.node.on(cc.Node.EventType.MOUSE_DOWN,function(t){this.parameters.isMouseDown=!0},this),this.node.on(cc.Node.EventType.MOUSE_UP,function(t){this.parameters.isMouseDown=!1},this),this.node.on(cc.Node.EventType.MOUSE_LEAVE,function(t){this.parameters.isMouseDown=!1},this),this.node.on(cc.Node.EventType.TOUCH_START,function(t){this.parameters.isMouseDown=!0},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){this.parameters.isMouseDown=!1},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){this.parameters.isMouseDown=!1},this),this.node.on(cc.Node.EventType.MOUSE_MOVE,function(t){this.parameters.isMouseDown&&(this.parameters.mouse.x=t.getLocationX(),this.parameters.mouse.y=t.getLocationY())},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){this.parameters.isMouseDown&&(this.parameters.mouse.x=t.getLocationX(),this.parameters.mouse.y=t.getLocationY())},this),cc.loader.loadRes(i.flagShader,function(t,e){t?cc.log(t):(i.frag_glsl=e,i._use())})},update:function(t){if(40<=this.glassFactor&&(this.glassFactor=0),this.glassFactor+=3*t,this._program)if(this._program.use(),this.updateGLParameters(),cc.sys.isNative){var e=cc.GLProgramState.getOrCreateWithGLProgram(this._program);e.setUniformVec3("iResolution",this.parameters.resolution),e.setUniformFloat("iGlobalTime",this.parameters.time),e.setUniformVec4("iMouse",this.parameters.mouse),e.setUniformVec4("iDate",this.parameters.date)}else this._program.setUniformLocationWith3f(this._resolution,this.parameters.resolution.x,this.parameters.resolution.y,this.parameters.resolution.z),this._program.setUniformLocationWith1f(this._time,this.parameters.time),this._program.setUniformLocationWith4f(this._mouse,this.parameters.mouse.x,this.parameters.mouse.y,this.parameters.mouse.z,this.parameters.mouse.w),this._program.setUniformLocationWith4f(this._date,this.parameters.date.x,this.parameters.date.y,this.parameters.date.z,this.parameters.date.w)},updateGLParameters:function(){this.parameters.time=(Date.now()-this.parameters.startTime)/1e3,this.parameters.resolution.x=cc._canvas.width,this.parameters.resolution.y=cc._canvas.height;var t=new Date;this.parameters.date={x:t.getYear(),y:t.getMonth(),z:t.getDate(),w:t.getTime()+t.getMilliseconds()/1e3}},_use:function(){if(cc.sys.isNative?(cc.log("use native GLProgram"),this._program=new cc.GLProgram,this._program.initWithString(n,this.frag_glsl),this._program.addAttribute(cc.macro.ATTRIBUTE_NAME_POSITION,cc.macro.VERTEX_ATTRIB_POSITION),this._program.addAttribute(cc.macro.ATTRIBUTE_NAME_COLOR,cc.macro.VERTEX_ATTRIB_COLOR),this._program.addAttribute(cc.macro.ATTRIBUTE_NAME_TEX_COORD,cc.macro.VERTEX_ATTRIB_TEX_COORDS),this._program.link(),this._program.updateUniforms(),this.updateGLParameters()):(this._program=new cc.GLProgram,this._program.initWithVertexShaderByteArray(o,this.frag_glsl),this._program.addAttribute(cc.macro.ATTRIBUTE_NAME_POSITION,cc.macro.VERTEX_ATTRIB_POSITION),this._program.addAttribute(cc.macro.ATTRIBUTE_NAME_COLOR,cc.macro.VERTEX_ATTRIB_COLOR),this._program.addAttribute(cc.macro.ATTRIBUTE_NAME_TEX_COORD,cc.macro.VERTEX_ATTRIB_TEX_COORDS),this._program.link(),this._program.updateUniforms(),this._program.use(),this.updateGLParameters(),this._program.setUniformLocationWith3f(this._program.getUniformLocationForName("iResolution"),this.parameters.resolution.x,this.parameters.resolution.y,this.parameters.resolution.z),this._program.setUniformLocationWith1f(this._program.getUniformLocationForName("iGlobalTime"),this.parameters.time),this._program.setUniformLocationWith4f(this._program.getUniformLocationForName("iMouse"),this.parameters.mouse.x,this.parameters.mouse.y,this.parameters.mouse.z,this.parameters.mouse.w),this._program.setUniformLocationWith4f(this._program.getUniformLocationForName("iDate"),this.parameters.date.x,this.parameters.date.y,this.parameters.date.z,this.parameters.date.w)),cc.sys.isNative){var t=cc.GLProgramState.getOrCreateWithGLProgram(this._program);t.setUniformVec3("iResolution",this.parameters.resolution),t.setUniformFloat("iGlobalTime",this.parameters.time),t.setUniformVec4("iMouse",this.parameters.mouse)}else this._resolution=this._program.getUniformLocationForName("iResolution"),this._time=this._program.getUniformLocationForName("iGlobalTime"),this._mouse=this._program.getUniformLocationForName("iMouse"),this._program.setUniformLocationWith3f(this._resolution,this.parameters.resolution.x,this.parameters.resolution.y,this.parameters.resolution.z),this._program.setUniformLocationWith1f(this._time,this.parameters.time),this._program.setUniformLocationWith4f(this._mouse,this.parameters.mouse.x,this.parameters.mouse.y,this.parameters.mouse.z,this.parameters.mouse.w),this._program.setUniformLocationWith4f(this._date,this.parameters.date.x,this.parameters.date.y,this.parameters.date.z,this.parameters.date.w);this.setProgram(this.node._sgNode,this._program)},setProgram:function(t,e){if(cc.sys.isNative){var i=cc.GLProgramState.getOrCreateWithGLProgram(e);t.setGLProgramState(i)}else t.setShaderProgram(e);var o=t.children;if(o)for(var n=0;n<o.length;n++)this.setProgram(o[n],e)}}),cc._RF.pop()},{"../shader/Shaders/ccShader_Default_Vert.js":"ccShader_Default_Vert","../shader/Shaders/ccShader_Default_Vert_noMVP.js":"ccShader_Default_Vert_noMVP"}],RewardPanel:[function(t,e,i){"use strict";cc._RF.push(e,"7b3395N99dCwLt3psDDpO/u","RewardPanel"),cc.Class({extends:cc.Component,properties:{txtCoin:cc.Label,txtCount:cc.Label,toast:cc.Node,coinList:[cc.Node],icoCoin:cc.Node,txtCoinGame:cc.Label,soundCoin:cc.AudioClip},onLoad:function(){this.globalNode=cc.find("globalNode"),this.bgmController=cc.find("bgmController")},start:function(){},getReward:function(t,e){this.adId=e,this.coins=t,this.txtCoin.string="COINÃ—"+this.coins,this.node.opacity=255,this.coinList[2].setPosition(-87,100),this.coinList[1].setPosition(78,100),this.coinList[0].setPosition(0,100)},clickGet:function(){if(!this.lock){this.lock=!0,this.globalNode.gameData.coins+=this.coins,cc.sys.localStorage.setItem("coins",this.globalNode.gameData.coins),this.txtCoinGame.string=this.globalNode.gameData.coins;for(var t=0;t<this.coinList.length;t++){this.coinList[t].runAction(new cc.Sequence(new cc.DelayTime(t/10),new cc.EaseSineOut(new cc.MoveTo(.5,this.icoCoin.getPosition())),new cc.CallFunc(this.playSound,this)))}this.node.runAction(new cc.Sequence(new cc.DelayTime(.5),new cc.FadeTo(.5,0),new cc.CallFunc(this.hide.bind(this),this.node)))}},playSound:function(){this.bgmController.playEffect(this.soundCoin)},hide:function(){this.lock=!1,this.node.active=!1,document.getElementById("googleAds").style.display="block",document.getElementById("ad"+this.adId).style.display="block"}}),cc._RF.pop()},{}],SharePic:[function(t,e,i){"use strict";cc._RF.push(e,"e6966UvF6VA/LsnDcfCw7h6","SharePic");var o={generate:function(t,e,i,o){this.imgList={},this.name=t.split(" ")[0],this.score=e,this.loaderList=0,this.callback=o,this.imgLoader(i,"avatar"),this.imgLoader("./res/raw-assets/share_pic.png","bg")},imgLoader:function(t,e){var i=this,o=new Image;o.crossOrigin="anonymous",o.src=t,this.loaderList+=1,o.onload=function(){i.imgList[e]=o,i.loadCallback()}},loadCallback:function(){this.loaderList-=1,0===this.loaderList&&this.callback(this.makePic())},makePic:function(){var t=document.createElement("canvas");t.width=720,t.height=500;var e=t.getContext("2d");return e.drawImage(this.imgList.bg,0,0,720,500),e.save(),e.arc(190,200,110,0,2*Math.PI),e.clip(),e.drawImage(this.imgList.avatar,80,90,220,220),e.restore(),e.fillStyle="white",e.textAlign="center",e.font="56px Helvetica",e.fillText(this.name,190,390),e.font="96px Helvetica",e.fillText(this.score,540,250),t.toDataURL()}};e.exports=o,cc._RF.pop()},{}],bgmController:[function(t,e,i){"use strict";cc._RF.push(e,"e148eZXmvtMVY9TpQm3G3Jj","bgmController"),cc.Class({extends:cc.Component,properties:{bgmSources:[cc.AudioClip],buttonSource:cc.AudioClip},onLoad:function(){var t=this;cc.game.addPersistRootNode(this.node),this.setting={bgm:!0,sound:!0},this.node.setting=this.setting,this.node.playBgm=this.playBgm.bind(this),this.node.stopBgm=this.stopBgm.bind(this),this.node.playSound=this.playSound.bind(this),this.node.stopSound=this.stopSound.bind(this),this.node.playEffect=this.playEffect.bind(this),this.node.playButton=this.playButton.bind(this);try{wx.onAudioInterruptionEnd(function(){t.playBgm()})}catch(t){}},start:function(){this.setting.bgm?this.playBgm():this.pauseBgm()},playBgm:function(t){t=t||0,this.setting.bgm=!0,cc.audioEngine.resume(this.current)||(cc.audioEngine.stop(this.current),this.current=cc.audioEngine.play(this.bgmSources[t],!0,.3))},stopBgm:function(){this.setting.bgm=!1,cc.audioEngine.pause(this.current)},playSound:function(){this.setting.sound=!0},stopSound:function(){this.setting.sound=!1},playEffect:function(t){this.setting.sound&&cc.audioEngine.play(t)},playButton:function(){this.playEffect(this.buttonSource)}}),cc._RF.pop()},{}],boss:[function(t,e,i){"use strict";cc._RF.push(e,"260eajSvdRIYbo8/jX1hAz6","boss"),cc.Class({extends:cc.Component,properties:{mark:1,hp:200,bullet:cc.Prefab,bossFireSound:cc.AudioClip,bossDieSound:cc.AudioClip},onLoad:function(){var t=void 0;if(this.globalNode=cc.find("globalNode"),this.hp=this.node.hp,this.bgmController=cc.find("bgmController"),this.fighter=cc.find("Canvas/fighter"),1===this.mark){var e=100;this.schedule(function(){if(!this.fighter.active)return!1;(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x+e,this.node.y-180),this.bgmController.playEffect(this.bossFireSound),e=-e},.8)}else 2===this.mark?this.schedule(function(){if(!this.fighter.active)return!1;(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x+100,this.node.y-180),(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x-100,this.node.y-180),this.bgmController.playEffect(this.bossFireSound)},1.1):3===this.mark?this.schedule(function(){if(!this.fighter.active)return!1;(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x+100,this.node.y-100),(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x-100,this.node.y-100),(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x,this.node.y-180),this.bgmController.playEffect(this.bossFireSound)},1.3):4===this.mark?this.schedule(function(){if(!this.fighter.active)return!1;(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x+100,this.node.y-100),t.rotation=-10,(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x-100,this.node.y-100),t.rotation=10,(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x,this.node.y-180),this.bgmController.playEffect(this.bossFireSound)},1.5):5===this.mark&&this.schedule(function(){if(!this.fighter.active)return!1;(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x+100,this.node.y-320),(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x-100,this.node.y-320),(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x+200,this.node.y-220),(t=cc.instantiate(this.bullet)).parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x-200,this.node.y-220),this.bgmController.playEffect(this.bossFireSound)},1.8)},onCollisionEnter:function(t,e){var i=void 0,o={};0<this.hp&&("ray<BoxCollider>"===t.name?(i=20<this.hp?20:this.hp,o.score=i,this.hp-=20):(o.score=1,this.hp-=1),this.hp<=0?(o.die=!0,o.boss=!0,o.x=this.node.x,o.y=this.node.y,this.bgmController.playEffect(this.bossDieSound),this.node.destroy()):this.node.getChildByName("hp").getComponent(cc.Label).string=this.hp,this.globalNode.hitCallback(o))},update:function(t){this.fighter.active&&(40<this.node.x-this.fighter.x?this.node.x-=200*t:this.node.x-this.fighter.x<-40&&(this.node.x+=200*t))}}),cc._RF.pop()},{}],bullet:[function(t,e,i){"use strict";cc._RF.push(e,"125b1XfnRdKGoWrEGFVS+bl","bullet"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.globalNode=cc.find("globalNode")},init:function(){this.contact=!1,this.node.getComponent(cc.Sprite).enabled=!0,this.node.getComponent(cc.CircleCollider).enabled=!0,this.node.getChildByName("bullet").active=!1,this.node.getChildByName("bullet").getComponent(cc.ParticleSystem).stopSystem(),this.speedX=2e3*Math.sin(this.node.rotation/180*Math.PI),this.speedY=2e3*Math.cos(this.node.rotation/180*Math.PI)},onCollisionEnter:function(t,e){this.contact||(this.contact=!0,this.node.getComponent(cc.Sprite).enabled=!1,this.node.getComponent(cc.CircleCollider).enabled=!1,this.node.getChildByName("bullet").active=!0,this.node.getChildByName("bullet").getComponent(cc.ParticleSystem).resetSystem(),this.scheduleOnce(function(){this.globalNode.bulletPool.put(this.node)},.2))},update:function(t){this.contact||!this.speedX&&!this.speedY||(this.node.x+=this.speedX*t,this.node.y+=this.speedY*t),(1200<this.node.y||this.node.y<-1200||800<this.node.x||this.node.x<-800)&&(this.globalNode.bulletPool?this.globalNode.bulletPool.put(this.node):this.node.destroy())}}),cc._RF.pop()},{}],ccShader_Default_Vert_noMVP:[function(t,e,i){"use strict";cc._RF.push(e,"ea8e5q6tLhMY6G19VhVeuhS","ccShader_Default_Vert_noMVP"),e.exports="\nattribute vec4 a_position;\n attribute vec2 a_texCoord;\n attribute vec4 a_color;\n varying vec2 v_texCoord;\n varying vec4 v_fragmentColor;\n void main()\n {\n     gl_Position = CC_PMatrix  * a_position;\n     v_fragmentColor = a_color;\n     v_texCoord = a_texCoord;\n }\n",cc._RF.pop()},{}],ccShader_Default_Vert:[function(t,e,i){"use strict";cc._RF.push(e,"bbb257lsg1DVYFXhUn5L4x4","ccShader_Default_Vert"),e.exports="\nattribute vec4 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nvarying vec2 v_texCoord;\nvarying vec4 v_fragmentColor;\nvoid main()\n{\n    gl_Position = CC_PMatrix * a_position;\n    v_fragmentColor = a_color;\n    v_texCoord = a_texCoord;\n}\n",cc._RF.pop()},{}],coin:[function(t,e,i){"use strict";cc._RF.push(e,"ea318AIQOJFNb4pm/f/DQU1","coin"),cc.Class({extends:cc.Component,properties:{item_id:""},onLoad:function(){this.globalNode=cc.find("globalNode"),this.canvas=cc.find("Canvas"),this.value=1,this.freeMove=!0,this.fighter=cc.find("Canvas/fighter"),this.contactEvent=new cc.Event.EventCustom("coin",!0)},onCollisionEnter:function(t,e){if(this.node.y>this.canvas.height/2)return!1;this.freeMove&&"bullet<CircleCollider>"===t.name&&(this.freeMove=!1,this.node.getComponent(cc.BoxCollider).enabled=!1)},start:function(){},toFighter:function(){this.freeMove=!1,this.node.getComponent(cc.BoxCollider).enabled=!1},update:function(t){this.freeMove?this.node.y-=200*t:100<Math.abs(this.node.x-this.fighter.x)||100<Math.abs(this.node.y-this.fighter.y)?(this.node.x+=(this.fighter.x-this.node.x)/5,this.node.y+=(this.fighter.y-this.node.y)/5):(this.globalNode.coinPool.put(this.node),this.globalNode.coinCallback({value:this.value})),this.node.y<-1200&&this.globalNode.coinPool.put(this.node)}}),cc._RF.pop()},{}],enemy_bullet:[function(t,e,i){"use strict";cc._RF.push(e,"40829RDEsRIV4i2sSUO60Bi","enemy_bullet"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(t,e){this.node.destroy()},update:function(t){this.node.x-=1e3*t*Math.sin(this.node.rotation/180*Math.PI),this.node.y-=1e3*t*Math.cos(this.node.rotation/180*Math.PI),(1200<this.node.y||this.node.y<-1200||600<this.node.x||this.node.x<-600)&&this.node.destroy()}}),cc._RF.pop()},{}],enemy:[function(t,e,i){"use strict";cc._RF.push(e,"386fbUZy6tB3qlPuHsY6x3l","enemy"),cc.Class({extends:cc.Component,properties:{type:1,min:2,max:10},onLoad:function(){this.canvas=cc.find("Canvas"),this.globalNode=cc.find("globalNode")},init:function(){this.hp=Math.round(Math.random()*(this.max-this.min))+this.min,this.total=this.hp,this.updateSize()},updateSize:function(){this.node.getChildByName("hp").getComponent(cc.Label).string=this.hp,this.node.width=10*this.hp+100,this.node.height=10*this.hp+100,this.node.getChildByName("texture").width=10*this.hp+100,this.node.getChildByName("texture").height=10*this.hp+100,this.node.getComponent(cc.CircleCollider).radius=5*this.hp+50},onCollisionEnter:function(t,e){var i=void 0,o={};if(this.node.y>this.canvas.height/2)return!1;0<this.hp&&("ray<BoxCollider>"===t.name?(i=20<this.hp?20:this.hp,o.score=i,this.hp-=20):"shield<CircleCollider>"===t.name?(i=this.hp,o.score=i,this.hp=0):(this.node.getChildByName("texture").getComponent(cc.Animation).play(),o.score=1,this.hp-=1),this.hp<=0?(o.die=!0,o.x=this.node.x,o.y=this.node.y,o.total=this.total,this.globalNode.hitCallback(o),this.globalNode["enemyPool"+this.type].put(this.node)):(this.updateSize(),this.globalNode.hitCallback(o)))},update:function(t){this.node.y-=200*t,this.node.y<-1200&&this.globalNode["enemyPool"+this.type].put(this.node),this.node.rotation+=50*t,this.node.getChildByName("hp").rotation-=50*t}}),cc._RF.pop()},{}],fb_module_setting_BtnSettingEffect:[function(t,e,i){"use strict";cc._RF.push(e,"94a26zr4ztOkK28vfniRye4","fb_module_setting_BtnSettingEffect"),cc.Class({extends:cc.Component,properties:{effectOn:cc.SpriteFrame,effectOff:cc.SpriteFrame},start:function(){this.bgmController=cc.find("bgmController"),this.updateIcon()},click:function(){this.bgmController.setting.sound=!this.bgmController.setting.sound,this.updateIcon()},updateIcon:function(){this.bgmController.setting.sound?this.node.getComponent(cc.Sprite).spriteFrame=this.effectOn:this.node.getComponent(cc.Sprite).spriteFrame=this.effectOff}}),cc._RF.pop()},{}],fb_module_setting_BtnSettingMusic:[function(t,e,i){"use strict";cc._RF.push(e,"b9f63Gtq+tNFKM9KZRce/aJ","fb_module_setting_BtnSettingMusic"),cc.Class({extends:cc.Component,properties:{musicOn:cc.SpriteFrame,musicOff:cc.SpriteFrame},start:function(){this.bgmController=cc.find("bgmController"),this.updateIcon()},click:function(){this.bgmController.setting.bgm?this.bgmController.stopBgm():this.bgmController.playBgm(),this.updateIcon()},updateIcon:function(){this.bgmController.setting.bgm?this.node.getComponent(cc.Sprite).spriteFrame=this.musicOn:this.node.getComponent(cc.Sprite).spriteFrame=this.musicOff}}),cc._RF.pop()},{}],fb_module_setting_NodeSettingBtn:[function(t,e,i){"use strict";cc._RF.push(e,"6e618ZdC3dG57EJxncIhNCr","fb_module_setting_NodeSettingBtn"),cc.Class({extends:cc.Component,properties:{delay:0},start:function(){this.node.runAction(new cc.Sequence(new cc.DelayTime(this.delay),new cc.EaseBackOut(new cc.ScaleTo(.8,1))))}}),cc._RF.pop()},{}],fb_module_setting_NodeSettingLogo:[function(t,e,i){"use strict";cc._RF.push(e,"7f207nWzbxBcp/qSutdApnN","fb_module_setting_NodeSettingLogo"),cc.Class({extends:cc.Component,properties:{delay:0},start:function(){this.node.runAction(new cc.Sequence(new cc.DelayTime(this.delay),new cc.FadeTo(.6,255)))}}),cc._RF.pop()},{}],fb_module_setting_SettingScene:[function(t,e,i){"use strict";cc._RF.push(e,"899c8lH2IFF3pQ48Pg91SdL","fb_module_setting_SettingScene"),cc.Class({extends:cc.Component,properties:{backScene:"mainScene"},onLoad:function(){this.globalNode=cc.find("globalNode"),this.schedule(function(){0<this.globalNode.giftCount&&(this.globalNode.giftCount-=1)},1)},start:function(){},back:function(){cc.director.loadScene(this.backScene)}}),cc._RF.pop()},{}],fighter:[function(t,e,i){"use strict";cc._RF.push(e,"7011aQKGcFOJapAq5W7ra80","fighter"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.globalNode=cc.find("globalNode")},start:function(){},onCollisionEnter:function(t,e){this.globalNode.dieCallback()}}),cc._RF.pop()},{}],galaxy:[function(t,e,i){"use strict";cc._RF.push(e,"f8943xyXHpMeIfcWQgioTeH","galaxy"),cc.Class({extends:cc.Component,properties:{planets:[cc.Prefab],controll:!1,target:cc.Node},onLoad:function(){var i=this,t=void 0,e=void 0,o=void 0;this.schedule(function(){(e=Math.floor(this.planets.length*Math.random()))!==o&&(o=e,(t=cc.instantiate(this.planets[e])).parent=this.node,t.setPosition(this.node.width*Math.random()-this.node.width/2,this.node.height/2+t.height/2))},20),this.controll&&this.target.on("touchmove",function(t){var e=t.currentTouch.getLocation();i.node.x=-(e.x-i.node.width/2)/30})}}),cc._RF.pop()},{}],game:[function(t,e,o){"use strict";cc._RF.push(e,"e8a50MebJdLubttzDVAboP3","game");t("SharePic");cc.Class({extends:cc.Component,properties:{toast:cc.Node,fighter:cc.Node,bullet:cc.Prefab,enemies:[cc.Prefab],items:[cc.Prefab],boss:[cc.Prefab],shrapnel:cc.Prefab,ray:cc.Prefab,shield:cc.Node,wave:cc.Prefab,coin:cc.Prefab,flame:cc.Prefab,battleLayer:cc.Node,bossLayer:cc.Node,scoreNode:cc.Node,scoreText:cc.Label,coinNode:cc.Node,coinText:cc.Label,endWindow:cc.Node,endScoreText:cc.Label,scoreTitle:cc.Node,newBestTitle:cc.Node,bestScore:cc.Label,bossFireSound:cc.AudioClip,waveSound:cc.AudioClip,fireSound:cc.AudioClip,coinSound:cc.AudioClip,hitSound:cc.AudioClip,newRecordSound:cc.AudioClip,endSound:cc.AudioClip,boomSound:cc.AudioClip,itemSound:cc.AudioClip,continueWindow:cc.Node,continueForFree:cc.Node,continueWithAd:cc.Node,shipStyles:[cc.SpriteFrame],magnetCircle:cc.Prefab,boom:cc.Prefab,guide:cc.Node,continueMask:cc.Node,loadingPanel:cc.Prefab,giftBtn:cc.Node,giftCountText:cc.Label,reward:cc.Node,newShip:cc.Node,rewardBulletLayer:cc.Node,newShipModel:cc.Node},onLoad:function(){var e=this;this.globalNode=cc.find("globalNode"),this.bgmController=cc.find("bgmController"),this.fighter.getChildByName("style").getComponent(cc.Sprite).spriteFrame=this.shipStyles[this.globalNode.gameData.ship],cc.director.getCollisionManager().enabled=!0,this.bindEvent(),this.globalNode.bulletPool=new cc.NodePool,this.globalNode.enemyPool1=new cc.NodePool,this.globalNode.enemyPool2=new cc.NodePool,this.globalNode.enemyPool3=new cc.NodePool,this.globalNode.coinPool=new cc.NodePool;var t=void 0;for(t=0;t<100;t++){var i=cc.instantiate(this.bullet);this.globalNode.bulletPool.put(i)}for(t=0;t<20;t++){var o=cc.instantiate(this.enemies[0]);this.globalNode.enemyPool1.put(o)}for(t=0;t<20;t++){var n=cc.instantiate(this.enemies[1]);this.globalNode.enemyPool2.put(n)}for(t=0;t<20;t++){var s=cc.instantiate(this.enemies[2]);this.globalNode.enemyPool3.put(s)}for(t=0;t<40;t++){var a=cc.instantiate(this.coin);this.globalNode.coinPool.put(a)}void 0===this.globalNode.giftCount&&(this.globalNode.giftCount=0,this.giftCountText.node.active=!1),this.giftCounter(),window.bindAd56||(window.bindAd56=!0,document.querySelectorAll("#ad5 .close_ad, #ad6 .close_ad").forEach(function(t){t.addEventListener("click",function(){e.showBanner()})}))},start:function(){this.gameStart()},gameStart:function(){15<this.globalNode.gameData.ship?this.fireMode=3:7<this.globalNode.gameData.ship?this.fireMode=2:this.fireMode=1,this.gameStatus=!0,this.scoreNode.active=!0,this.fighter.active=!0,this.fighter.x=0,this.score=0,this.coins=this.globalNode.gameData.coins,this.scoreText.string=this.score,this.coinText.string=this.coins,this.endScoreDisplay=0,this.scoreDisplayEnd=!1,this.continueForFree.active=!1,this.continueWithAd.active=!0,this.continueTimes=1,this.bossLevel=0,this.bossQueue=[],this.bossFight=400,this.touchPos={x:this.fighter.x,y:this.fighter.y},this.guide.active=!0,this.generateBullet(),this.generateEnemy(),this.generateItem(),this.generateCoin(),this.scheduleOnce(function(){this.guide.active=!1},3)},die:function(){this.gameStatus=!1,this.fighter.active=!1,this.shield.active=!1,this.battleLayer.children.forEach(function(t){t.destroy()}),0<this.continueTimes?(this.continueWindow.active=!0,this.continueWindow.opacity=0,this.continueForFree.opacity=0,this.continueWithAd.opacity=0,this.continueWindow.getComponent(cc.Animation).play()):this.gameOver()},giftCounter:function(){this.schedule(function(){0<this.globalNode.giftCount?(this.globalNode.giftCount-=1,this.giftCountText.string=this.globalNode.giftCount,this.giftBtn.opacity=100,this.giftCountText.node.active=!0):0===this.globalNode.giftCount&&(this.giftBtn.opacity=255,this.giftCountText.node.active=!1)},1)},showBanner:function(){document.getElementById("googleAds").style.display="block",document.getElementById("googleAds").style.pointerEvents="none",document.getElementById("googleAds").style.background="none",document.getElementById("ad2").style.display="block"},hideBanner:function(){document.getElementById("googleAds").style.display="none",document.getElementById("googleAds").style.pointerEvents="initial",document.getElementById("googleAds").style.background="rgba(0,0,0,0.7)",document.getElementById("ad2").style.display="none"},gameOver:function(){this.gameStatus=!1,this.endWindow.active=!0,this.fighter.active=!1,this.shield.active=!1,this.scoreNode.active=!1,this.bestScore.node.active=!1,this.showBanner(),cc.find("invite_btn",this.endWindow).scale=0,cc.find("again_btn",this.endWindow).scale=0,cc.find("btn_bottom/get_more_ship",this.endWindow).y=-200,cc.find("btn_bottom/gift",this.endWindow).y=-200,cc.find("btn_bottom/setting",this.endWindow).y=-200,cc.find("btn_bottom/countDown",this.endWindow).y=-285,this.endScore=this.score,this.unscheduleAllCallbacks(),this.giftCounter(),this.battleLayer.children.forEach(function(t){t.destroy()}),this.bossLayer.children.forEach(function(t){t.destroy()}),this.globalNode.gameData.coins=this.coins,cc.sys.localStorage.setItem("coins",this.globalNode.gameData.coins),this.score>this.globalNode.gameData.bestScore?(!0,this.scoreTitle.active=!1,this.newBestTitle.active=!0,this.bgmController.playEffect(this.newRecordSound),this.globalNode.gameData.bestScore=this.score,cc.sys.localStorage.setItem("bestScore",this.globalNode.gameData.bestScore)):(this.scoreTitle.active=!0,this.newBestTitle.active=!1,this.bgmController.playEffect(this.endSound))},continueGame:function(){this.gameStatus=!0,this.fighter.active=!0,this.continueWindow.active=!1,this.shield.active=!0,this.unschedule(this.shieldCallback),this.schedule(this.shieldCallback,3)},bindEvent:function(){var s=this;this.node.on("touchmove",function(t){var e=t.currentTouch.getLocation();s.touchPos={x:e.x-s.node.width/2,y:e.y-s.node.height/2}}),this.globalNode.dieCallback=function(t){if(!s.shield.active){var e=cc.instantiate(s.flame);e.parent=s.battleLayer,e.setPosition(s.fighter.x,s.fighter.y),s.bgmController.playEffect(s.boomSound),s.fighter.active=!1,s.scheduleOnce(function(){s.die()},.5)}}.bind(this),this.globalNode.itemCallback=function(t){s.getItem(t)}.bind(this),this.globalNode.hitCallback=function(t){if(s.score+=t.score,s.scoreText.string=s.score,s.bossFight-=t.score,s.bgmController.playEffect(s.hitSound),s.bossFight<0&&s.generateBoss(),t.die){var e=Math.random(),i=void 0,o=void 0;if(t.boss){var n=cc.instantiate(s.boom);n.parent=s.bossLayer,n.scale=2,n.setPosition(t.x,t.y),s.bossFight=400+Math.round(200*Math.random()),s.bossCoinGroup(t.x,t.y)}else if(10===t.total){if(e<.25)o=1;else{if(!(e<.5))return;o=2}(i=cc.instantiate(s.items[o])).parent=s.battleLayer,i.setPosition(t.x,t.y)}else if(20===t.total){if(e<.3)o=6;else{if(!(e<.5))return;o=4}(i=cc.instantiate(s.items[o])).parent=s.battleLayer,i.setPosition(t.x,t.y)}else if(25===t.total){if(e<.3)o=3;else{if(!(e<.4))return;o=0}(i=cc.instantiate(s.items[o])).parent=s.battleLayer,i.setPosition(t.x,t.y)}else e<.1?s.coinGroup(t.x,t.y):s.bulletGroup(t.x,t.y,t.total)}}.bind(this),this.globalNode.coinCallback=function(t){s.coins+=t.value||1,s.coinText.string=s.coins,s.bgmController.playEffect(s.coinSound)}.bind(this)},inviteBtnCallback:function(){},againBtnCallback:function(){this.endWindow.active=!1,this.hideBanner(),this.gameStart()},backBtnCallback:function(){this.hideBanner(),cc.director.loadScene("mainScene")},continueWithAdBtnCallback:function(){var e=this;this.continueTimes-=1,document.getElementById("googleAds").style.display="block",document.getElementById("ad4").style.display="block",document.querySelectorAll("#ad4 .close_ad").forEach(function(t){t.addEventListener("click",function(){document.getElementById("googleAds").style.display="none",document.getElementById("ad4").style.display="none",e.continueGame()})})},continueMaskCallback:function(){this.continueMask.active=!1,this.continueGame()},continueForFreeBtnCallback:function(){this.continueForFree.active=!1,this.continueWithAd.active=!0,this.continueGame()},continueCloseCallback:function(){this.continueWindow.active=!1,this.gameOver()},getNewShipCallback:function(){this.newShip.active=!0,this.hideBanner();var t=this.newShip.getComponent("getNewShip").getShip(),e=void 0;this.newShipModel.getChildByName("shipModel").getComponent(cc.Sprite).spriteFrame=this.shipStyles[t],this.fighter.getChildByName("style").getComponent(cc.Sprite).spriteFrame=this.shipStyles[t];var i=void 0;i=15<t?3:7<t?2:1,this.newShip.getComponent("getNewShip").schedule(function(){1===i?((e=this.getBullet()).parent=this.rewardBulletLayer,e.setPosition(this.newShipModel.x,this.newShipModel.y)):2===i?((e=this.getBullet()).parent=this.rewardBulletLayer,e.setPosition(this.newShipModel.x+50,this.newShipModel.y),(e=this.getBullet()).parent=this.rewardBulletLayer,e.setPosition(this.newShipModel.x-50,this.newShipModel.y)):3===i&&((e=this.getBullet()).parent=this.rewardBulletLayer,e.setPosition(this.newShipModel.x,this.newShipModel.y),(e=this.getBullet(5)).parent=this.rewardBulletLayer,e.setPosition(this.newShipModel.x+50,this.newShipModel.y),(e=this.getBullet(-5)).parent=this.rewardBulletLayer,e.setPosition(this.newShipModel.x-50,this.newShipModel.y))}.bind(this),.1)},getMoreShipCallback:function(){var t=cc.instantiate(this.loadingPanel);this.hideBanner(),t.parent=this.node,cc.director.loadScene("shopScene")},settingBtnCallback:function(){var t=cc.instantiate(this.loadingPanel);this.hideBanner(),t.parent=this.node,cc.director.loadScene("fb_module_setting_setting_scene")},giftBtnCallback:function(){0===this.globalNode.giftCount&&(this.hideBanner(),this.globalNode.giftCount=60,this.reward.active=!0,this.reward.getComponent("RewardPanel").getReward(500,5))},getItem:function(t){switch(this.bgmController.playEffect(this.itemSound),t.type){case"bomb":cc.instantiate(this.ray).parent=this.battleLayer,this.bgmController.playEffect(this.waveSound);break;case"shield":this.shield.active=!0,this.unschedule(this.shieldCallback),this.unschedule(this.shieldAlertCallback),this.shield.getComponent(cc.Animation).stop("shield_break"),this.shield.opacity=255,this.schedule(this.shieldAlertCallback,7),this.schedule(this.shieldCallback,10);break;case"wave":var e=cc.instantiate(this.wave);e.parent=this.battleLayer,e.setPosition(t.x,t.y),this.bgmController.playEffect(this.bossFireSound);break;case"three":this.fireMode=3,this.unschedule(this.fireChangeCallback),this.schedule(this.fireChangeCallback,10);break;case"two":this.fireMode=2,this.unschedule(this.fireChangeCallback),this.schedule(this.fireChangeCallback,10);break;case"magnet":this.trackCoin();break;case"shrapnel":var i=cc.instantiate(this.shrapnel);i.parent=this.battleLayer,i.setPosition(this.fighter.x,this.fighter.y+75)}},fireChangeCallback:function(){7<this.globalNode.gameData.ship?this.fireMode=2:this.fireMode=1},shieldAlertCallback:function(){this.shield.getComponent(cc.Animation).play("shield_break")},shieldCallback:function(){this.shield.getComponent(cc.Animation).stop("shield_break"),this.shield.opacity=255,this.shield.active=!1},trackCoin:function(){var t=cc.find("magnet",this.fighter);this.schedule(function(){cc.instantiate(this.magnetCircle).parent=t,this.battleLayer.children.forEach(function(t){"coin"===t.name&&t.getComponent("coin").toFighter()})},.5,16)},generateBoss:function(){var t=void 0;this.bossQueue.length||this.initBossQueue();var e=this.bossQueue.shift();(t=cc.instantiate(this.boss[e])).hp=200*(this.bossLevel+1),t.parent=this.bossLayer,t.setPosition(-700,this.node.height/2-150),this.bossLevel+=1,this.bossFight=99999999},initBossQueue:function(){for(var t=[],e=0;e<this.boss.length;e++)t.push(e);for(var i=t.length;--i;){var o=Math.floor(Math.random()*(i+1)),n=t[i],s=t[o];t[i]=s,t[o]=n}this.bossQueue=this.bossQueue.concat(t)},getBullet:function(t){var e=null;return(e=0<this.globalNode.bulletPool.size()?this.globalNode.bulletPool.get():cc.instantiate(this.bullet)).rotation=t||0,e.getComponent("bullet").init(),e},generateBullet:function(){var t=void 0;this.schedule(function(){this.gameStatus&&(1===this.fireMode?((t=this.getBullet()).parent=this.battleLayer,t.setPosition(this.fighter.x,this.fighter.y)):2===this.fireMode?((t=this.getBullet()).parent=this.battleLayer,t.setPosition(this.fighter.x+50,this.fighter.y),(t=this.getBullet()).parent=this.battleLayer,t.setPosition(this.fighter.x-50,this.fighter.y)):3===this.fireMode&&((t=this.getBullet()).parent=this.battleLayer,t.setPosition(this.fighter.x,this.fighter.y),(t=this.getBullet(5)).parent=this.battleLayer,t.setPosition(this.fighter.x+50,this.fighter.y),(t=this.getBullet(-5)).parent=this.battleLayer,t.setPosition(this.fighter.x-50,this.fighter.y)))},.1)},bulletGroup:function(t,e,i){for(var o=void 0,n=0;n<i;n++)(o=this.getBullet(360*n/i)).parent=this.battleLayer,o.setPosition(t,e)},getEnemy:function(t){var e=null;return t+=1,(e=0<this.globalNode["enemyPool"+t].size()?this.globalNode["enemyPool"+t].get():cc.instantiate(this.enemies[t])).getComponent("enemy").init(),e},generateEnemy:function(){var t=void 0,e=void 0,i=void 0,o=void 0,n=void 0,s=void 0;this.schedule(function(){this.gameStatus&&(n=0,s=!1,this.battleLayer.children.forEach(function(t){"enemy1"!==t.name&&"enemy2"!==t.name&&"enemy3"!==t.name||(n+=1)}),this.bossLayer.children.forEach(function(t){"boss"===t.name&&(s=!0)}),i=Math.random(),e=s?i<.8?0:1:100<this.score&&n<3+this.bossLevel?i<.5?2:1:i<.5?0:i<.9?1:2,(t=this.getEnemy(e)).parent=this.battleLayer,(o=this.getPosition(t.width/2))?t.setPosition(o[0],o[1]):this.globalNode["enemyPool"+(e+1)].put(t))},.7)},generateItem:function(){var t=void 0,e=void 0,i=void 0,o=void 0,n=3*Math.random()+4;this.scheduleOnce(function(){this.gameStatus&&((i=Math.random())<.05?e=0:i<.2?e=1:i<.4?e=2:i<.5?e=3:i<.6?e=4:i<.8?e=5:i<=1&&(e=6),(t=cc.instantiate(this.items[e])).parent=this.battleLayer,(o=this.getPosition(t.width/2))?t.setPosition(o[0],o[1]):t.destroy()),this.generateItem()},n)},getCoin:function(){var t=null;return(t=0<this.globalNode.coinPool.size()?this.globalNode.coinPool.get():cc.instantiate(this.coin)).getComponent("coin").freeMove=!0,t.getComponent(cc.BoxCollider).enabled=!0,t},generateCoin:function(){var t=void 0,e=void 0,i=3*Math.random()+3;this.scheduleOnce(function(){this.gameStatus&&((t=this.getCoin()).parent=this.battleLayer,(e=this.getPosition(t.width/2))?t.setPosition(e[0],e[1]):t.destroy()),this.generateCoin()},i)},coinGroup:function(t,e){for(var i=void 0,o=2*Math.PI/8,n=void 0,s=void 0,a=0;a<8;a++)n=t+200*Math.cos(o*a),s=e+200*Math.sin(o*a),(i=this.getCoin()).parent=this.battleLayer,i.setPosition(n,s)},bossCoinGroup:function(t,e){for(var i=this,o=void 0,n=2*Math.PI/16,s=void 0,a=void 0,c=0;c<16;c++)s=t+200*Math.cos(n*c),a=e+200*Math.sin(n*c),(o=this.getCoin()).parent=this.battleLayer,o.getComponent("coin").value=5,o.setPosition(s,a),function(t){i.scheduleOnce(function(){t.getComponent("coin").toFighter()},.8)}(o)},getPosition:function(t,e){if(5<(e=e||0))return console.log(!1),!1;var o=[Math.random()*this.node.width-this.node.width/2,this.node.height/2+150],n=this.battleLayer.children,s=!0;for(i in n)if(n[i].y>this.node.height/2-100&&Math.abs(n[i].x-o[0])<t+n[i].width/2){s=!1;break}return s?o:this.getPosition(t,e+1)},update:function(t){this.gameStatus&&this.touchPos.x!==this.fighter.x&&(this.fighter.x=this.touchPos.x),this.endWindow.active&&(this.endScoreDisplay<this.endScore?(this.endScoreDisplay+=Math.ceil((this.endScore-this.endScoreDisplay)/10),this.endScoreText.string=this.endScoreDisplay):this.scoreDisplayEnd||(this.endScoreText.string=this.endScoreDisplay,this.scoreDisplayEnd=!0,this.bestScore.string="BEST "+this.globalNode.gameData.bestScore,this.bestScore.node.active=!0,this.scheduleOnce(function(){this.endWindow.getComponent(cc.Animation).play()},.3)))}}),cc._RF.pop()},{SharePic:"SharePic"}],getNewShip:[function(t,e,i){"use strict";cc._RF.push(e,"f210cPf+lxLJb21EypnBq9/","getNewShip"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.globalNode=cc.find("globalNode"),this.bgmController=cc.find("bgmController")},start:function(){},getShip:function(){this.node.opacity=255,this.buyList=this.globalNode.gameData.buyList,this.buyList=this.buyList.split("");for(var t=1;t<this.buyList.length;t++)if(0===Number(this.buyList[t])){this.buyList[t]=1,this.shipId=t;break}return this.shipId||(this.shipId=23),this.buyList=this.buyList.join(""),this.globalNode.gameData.buyList=this.buyList,this.globalNode.gameData.ship=this.shipId,this.shipId},clickGet:function(){this.lock||(this.lock=!0,cc.sys.localStorage.setItem("buyList",this.buyList),cc.sys.localStorage.setItem("ship",this.shipId),this.node.runAction(new cc.Sequence(new cc.FadeTo(.5,0),new cc.CallFunc(this.hide.bind(this),this.node))))},hide:function(){this.lock=!1,this.unscheduleAllCallbacks(),this.node.active=!1,document.getElementById("googleAds").style.display="block",document.getElementById("ad6").style.display="block"}}),cc._RF.pop()},{}],item:[function(t,e,i){"use strict";cc._RF.push(e,"08eb2Uz141CGKnwA3KmnzB1","item"),cc.Class({extends:cc.Component,properties:{item_id:""},onLoad:function(){this.globalNode=cc.find("globalNode"),this.canvas=cc.find("Canvas"),this.contactEvent=new cc.Event.EventCustom("item",!0)},onCollisionEnter:function(t,e){if(this.node.y>this.canvas.height/2)return!1;"bullet<CircleCollider>"!==t.name||this.contact||(this.contact=!0,this.node.getComponent(cc.Sprite).enabled=!1,this.node.getComponent(cc.BoxCollider).enabled=!1,this.node.getChildByName("particle").getComponent(cc.ParticleSystem).resetSystem(),this.globalNode.itemCallback({type:this.item_id,x:this.node.x,y:this.node.y}),this.scheduleOnce(function(){this.node.destroy()},.5))},start:function(){},update:function(t){this.node.y-=200*t,this.node.y<-1200&&this.node.destroy()}}),cc._RF.pop()},{}],magnetCircle:[function(t,e,i){"use strict";cc._RF.push(e,"23c30VeQrZBfZY2ZiGzefoC","magnetCircle"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.timer=0},start:function(){},update:function(t){this.timer+=t,this.node.scale=1-this.timer,this.node.scale<0&&this.node.destroy()}}),cc._RF.pop()},{}],main:[function(t,e,i){"use strict";cc._RF.push(e,"c4f79xV2tRPAqpHsIkD8A4n","main"),cc.Class({extends:cc.Component,properties:{loadingPanel:cc.Prefab,bestScoreText:cc.Label,coinsText:cc.Label,circle1:cc.Node,circle2:cc.Node,circle3:cc.Node,logo:cc.Node,giftBtn:cc.Node,giftCountText:cc.Label,reward:cc.Node},onLoad:function(){if(this.globalNode=cc.find("globalNode"),this.bgmController=cc.find("bgmController"),this.bestScoreText.string="BEST "+this.globalNode.gameData.bestScore,this.coinsText.string=this.globalNode.gameData.coins,this.scheduleOnce(function(){this.logo.getComponent(cc.Animation).play()},1.75),void 0===this.globalNode.giftCount&&(this.globalNode.giftCount=0,this.giftCountText.node.active=!1),this.giftCountText.string=this.globalNode.giftCount,this.schedule(function(){0<this.globalNode.giftCount?(this.globalNode.giftCount-=1,this.giftCountText.string=this.globalNode.giftCount,this.giftBtn.opacity=100,this.giftCountText.node.active=!0):0===this.globalNode.giftCount&&(this.giftBtn.opacity=255,this.giftCountText.node.active=!1)},1),!document.getElementById("exeScript")){var t=document.createElement("script");t.id="exeScript",t.text="\n                (adsbygoogle = window.adsbygoogle || []).push({});\n                setTimeout(function(){(adsbygoogle = window.adsbygoogle || []).push({});}, 300);\n                setTimeout(function(){(adsbygoogle = window.adsbygoogle || []).push({});}, 600);\n                setTimeout(function(){(adsbygoogle = window.adsbygoogle || []).push({});}, 900);\n                setTimeout(function(){(adsbygoogle = window.adsbygoogle || []).push({});}, 1200);\n                setTimeout(function(){(adsbygoogle = window.adsbygoogle || []).push({});}, 1500);\n                setTimeout(function(){(adsbygoogle = window.adsbygoogle || []).push({});}, 1800);\n                ",document.body.appendChild(t)}},start:function(){},playBtnCallbaclk:function(){cc.instantiate(this.loadingPanel).parent=this.node,cc.director.loadScene("gameScene")},shopBtnCallbaclk:function(){cc.instantiate(this.loadingPanel).parent=this.node,cc.director.loadScene("shopScene")},settingBtnCallbaclk:function(){cc.instantiate(this.loadingPanel).parent=this.node,cc.director.loadScene("fb_module_setting_setting_scene")},update:function(t){this.circle1.rotation+=200*t,this.circle2.rotation+=100*t,this.circle3.rotation-=100*t},coinBtnCallback:function(){this.reward.active=!0,this.reward.getComponent("RewardPanel").getReward(100,1)},giftBtnCallback:function(){0===this.globalNode.giftCount&&(this.globalNode.giftCount=60,this.reward.active=!0,this.reward.getComponent("RewardPanel").getReward(500,3))}}),cc._RF.pop()},{}],module_loading_AnimateLoading:[function(t,e,i){"use strict";cc._RF.push(e,"4f3a1Vhn1tGjIliVnbZLmsg","module_loading_AnimateLoading"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.runAction(new cc.FadeTo(.3,255))}}),cc._RF.pop()},{}],module_loading_LoadingOar:[function(t,e,i){"use strict";cc._RF.push(e,"4671f+PyoNKwJOarq4IZy3v","module_loading_LoadingOar"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.runAction(new cc.RepeatForever(new cc.RotateBy(2,360)))}}),cc._RF.pop()},{}],module_splash_SplashScene:[function(t,e,i){"use strict";cc._RF.push(e,"79eb8pK7PJN4IhvlgiWonpG","module_splash_SplashScene"),cc.Class({extends:cc.Component,properties:{lightNode:cc.Node,logoNode:cc.Node,globalNode:cc.Node,scene:"mainScene"},onLoad:function(){cc.game.addPersistRootNode(this.globalNode),cc.director.preloadScene("mainScene");var t=document.createElement("div");t.id="googleAds",t.innerHTML="<style>#googleAds{position:absolute;display:none;width:100%;height:100%;background:rgba(0,0,0,0.7)} #googleAds>div{display:none;transform:scale(0.8);position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;width:300px;height:600px;}.close_ad{position:absolute;z-index:99;left:-15px;top:-15px;}</style>",document.body.appendChild(t);var e=document.createElement("script");e.type="text/javascript",e.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",document.body.appendChild(e);var i=document.createElement("div");i.id="ad1",i.innerHTML='<img src="https://sl233.com/kika/web-mobile/res/raw-assets/texture/%E5%A4%B1%E8%B4%A5%E5%BC%B9%E7%AA%97/failwindow_ico_close.png" class="close_ad" width=30 height=30><ins class="adsbygoogle"\n             style="display:inline-block;width:300px;height:600px"\n             data-ad-client="ca-pub-1301877944886160"\n             data-ad-slot="7714695536"></ins>\n        ',document.getElementById("googleAds").appendChild(i);var o=document.createElement("div");o.id="ad2";var n=void 0;n=window.innerWidth/window.innerHeight<9/16?window.innerWidth/1080*1.827:window.innerHeight/1920*1.827,o.innerHTML="<style>#ad2{transform:scale("+n+')!important;width:336px!important;height:280px!important;padding-top:240px;}</style><ins class="adsbygoogle"\n             style="display:inline-block;width:336px;height:280px"\n             data-ad-client="ca-pub-1301877944886160"\n             data-ad-slot="4830168433"></ins>\n                ',document.getElementById("googleAds").appendChild(o);var s=document.createElement("div");s.id="ad3",s.innerHTML='<img src="https://sl233.com/kika/web-mobile/res/raw-assets/texture/%E5%A4%B1%E8%B4%A5%E5%BC%B9%E7%AA%97/failwindow_ico_close.png" class="close_ad" width=30 height=30><ins class="adsbygoogle"\n             style="display:inline-block;width:300px;height:600px"\n             data-ad-client="ca-pub-1301877944886160"\n             data-ad-slot="6097102351"></ins>\n        ',document.getElementById("googleAds").appendChild(s);var a=document.createElement("div");a.id="ad4",a.innerHTML='<img src="https://sl233.com/kika/web-mobile/res/raw-assets/texture/%E5%A4%B1%E8%B4%A5%E5%BC%B9%E7%AA%97/failwindow_ico_close.png" class="close_ad" width=30 height=30><ins class="adsbygoogle"\n             style="display:inline-block;width:300px;height:600px"\n             data-ad-client="ca-pub-1301877944886160"\n             data-ad-slot="7163606167"></ins>\n        ',document.getElementById("googleAds").appendChild(a);var c=document.createElement("div");c.id="ad5",c.innerHTML='<img src="https://sl233.com/kika/web-mobile/res/raw-assets/texture/%E5%A4%B1%E8%B4%A5%E5%BC%B9%E7%AA%97/failwindow_ico_close.png" class="close_ad" width=30 height=30><ins class="adsbygoogle"\n             style="display:inline-block;width:300px;height:600px"\n             data-ad-client="ca-pub-1301877944886160"\n             data-ad-slot="9445035017"></ins>\n        ',document.getElementById("googleAds").appendChild(c);var h=document.createElement("div");h.id="ad6",h.innerHTML='<img src="https://sl233.com/kika/web-mobile/res/raw-assets/texture/%E5%A4%B1%E8%B4%A5%E5%BC%B9%E7%AA%97/failwindow_ico_close.png" class="close_ad" width=30 height=30><ins class="adsbygoogle"\n             style="display:inline-block;width:300px;height:600px"\n             data-ad-client="ca-pub-1301877944886160"\n             data-ad-slot="6788201649"></ins>\n        ',document.getElementById("googleAds").appendChild(h);var l=document.createElement("div");l.id="ad7",l.innerHTML='<img src="https://sl233.com/kika/web-mobile/res/raw-assets/texture/%E5%A4%B1%E8%B4%A5%E5%BC%B9%E7%AA%97/failwindow_ico_close.png" class="close_ad" width=30 height=30><ins class="adsbygoogle"\n             style="display:inline-block;width:300px;height:600px"\n             data-ad-client="ca-pub-1301877944886160"\n             data-ad-slot="6034782351"></ins>\n        ',document.getElementById("googleAds").appendChild(l),document.querySelectorAll(".close_ad").forEach(function(t){t.addEventListener("click",function(){document.getElementById("googleAds").style.display="none",document.getElementById("ad1").style.display="none",document.getElementById("ad2").style.display="none",document.getElementById("ad3").style.display="none",document.getElementById("ad4").style.display="none",document.getElementById("ad5").style.display="none",document.getElementById("ad6").style.display="none",document.getElementById("ad7").style.display="none"})})},start:function(){console.log(this.getData("ship")),this.globalNode.gameData={bestScore:Number(this.getData("bestScore"))||0,coins:Number(this.getData("coins"))||0,ship:Number(this.getData("ship"))||0,adView:Number(this.getData("adView"))||0,buyList:this.getData("buyList")||["1","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0","0"].join("")},this.enter()},getData:function(t){return cc.sys.localStorage.getItem(t)},splash:function(){this.lightNode.runAction(new cc.Sequence(new cc.EaseSineIn(new cc.MoveBy(.8,cc.p(1200))),new cc.CallFunc(this.enter,this)))},enter:function(){cc.director.loadScene(this.scene)}}),cc._RF.pop()},{}],module_toast:[function(t,e,i){"use strict";cc._RF.push(e,"e0ba48cSiZPAK4vsIFijQgm","module_toast"),cc.Class({extends:cc.Component,properties:{time:3,toastContainer:cc.Node,text:cc.Label},onLoad:function(){this.node.show=this.show.bind(this),this.node.hide=this.hide.bind(this)},show:function(t){this.text.string=t,this.toastContainer.getComponent(cc.Animation).play("toast_show"),this.unscheduleAllCallbacks(),this.scheduleOnce(function(){this.toastContainer.getComponent(cc.Animation).play("toast_hide")},this.time)},hide:function(){this.unscheduleAllCallbacks(),this.toastContainer.getComponent(cc.Animation).play("toast_hide")}}),cc._RF.pop()},{}],planet:[function(t,e,i){"use strict";cc._RF.push(e,"ccd3bwLOeBDS7yB2qw4DGE3","planet"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.speed=50},start:function(){},update:function(t){this.node.y-=this.speed*t,this.node.y<-1500&&this.node.destroy()}}),cc._RF.pop()},{}],ray:[function(t,e,i){"use strict";cc._RF.push(e,"6c9eeh8HYpKp6zziPxCBTeH","ray"),cc.Class({extends:cc.Component,properties:{},start:function(){},update:function(t){this.node.y+=4e3*t,1200<this.node.y&&this.node.destroy()}}),cc._RF.pop()},{}],shield:[function(t,e,i){"use strict";cc._RF.push(e,"3e8c016jYxDnoIJKife9bhH","shield"),cc.Class({extends:cc.Component,properties:{fighter:cc.Node},start:function(){},update:function(t){}}),cc._RF.pop()},{}],shopItem:[function(t,e,i){"use strict";cc._RF.push(e,"02d0cv6mLpOp4fhz+CRNuDK","shopItem"),cc.Class({extends:cc.Component,properties:{item_id:0,price:100,adPrice:4},onLoad:function(){this.globalNode=cc.find("globalNode"),this.bgmController=cc.find("bgmController"),this.adBtn=cc.find("Canvas/ad_btn"),this.coinBtn=cc.find("Canvas/coin_btn"),this.playBtn=cc.find("Canvas/play_btn"),this.priceTag=cc.find("price",this.node),this.defaultBackground=cc.find("default",this.node),this.selectedBackground=cc.find("selected",this.node),this.disableBackground=cc.find("disable",this.node),this.disableSelectedBackground=cc.find("disable_selected",this.node),"1"===this.globalNode.gameData.buyList[this.item_id]?(this.priceTag.getComponent(cc.Label).string="owned",this.defaultBackground.active=!0,this.disableBackground.active=!1):(this.priceTag.getComponent(cc.Label).string=this.price,this.defaultBackground.active=!1,this.disableBackground.active=!0),this.globalNode.gameData.ship===this.item_id&&(this.globalNode.gameData.showShip=this.item_id,this.defaultBackground.active=!1,this.selectedBackground.active=!0,this.changeShow())},start:function(){var i=this;function t(){var t=void 0,e=i.globalNode.gameData.showShip;e<12?t=cc.find("Canvas/shop_page/view/content/page_1").children[e]:e<24&&(t=cc.find("Canvas/shop_page/view/content/page_2").children[e-12]),cc.find("selected",t).active&&(cc.find("default",t).active=!0,cc.find("selected",t).active=!1),cc.find("disable_selected",t).active&&(cc.find("disable",t).active=!0,cc.find("disable_selected",t).active=!1)}this.node.on("touchstart",function(){i.adBtn.buyId=i.item_id,i.coinBtn.buyId=i.item_id,i.bgmController.playButton(),i.defaultBackground.active&&(i.defaultBackground.active=!1,i.selectedBackground.active=!0,i.globalNode.gameData.ship=i.item_id,cc.sys.localStorage.setItem("ship",i.item_id),i.adBtn.active=!1,i.coinBtn.active=!1,i.playBtn.active=!0,t(),i.changeShow()),i.disableBackground.active&&(i.disableBackground.active=!1,i.disableSelectedBackground.active=!0,i.adBtn.active=!0,i.coinBtn.active=!0,i.playBtn.active=!1,cc.find("ad_num",i.adBtn).getComponent(cc.Label).string=(0<i.adPrice-i.globalNode.gameData.adView?i.adPrice-i.globalNode.gameData.adView:1)+" LEFT",cc.find("coin_num",i.coinBtn).getComponent(cc.Label).string=i.price,t(),i.changeShow()),i.globalNode.gameData.showShip=i.item_id})},changeShow:function(){var t=this,e=cc.find("Canvas/item_show");e.runAction(new cc.ScaleTo(.1,0,1.2)),this.scheduleOnce(function(){cc.find("fighter",e).getComponent(cc.Sprite).spriteFrame=cc.find("item_icon",t.node).getComponent(cc.Sprite).spriteFrame,e.runAction(new cc.ScaleTo(.1,1.2,1.2))},.1)}}),cc._RF.pop()},{}],shop:[function(t,e,i){"use strict";cc._RF.push(e,"e0d30pO+E9Hb6QrszSmLgXb","shop"),cc.Class({extends:cc.Component,properties:{coinText:cc.Label,adBtn:cc.Node,coinBtn:cc.Node,playBtn:cc.Node,coinNum:cc.Label,adNum:cc.Label,battleLayer:cc.Node,bullet:cc.Prefab,fighter:cc.Node,loadingPanel:cc.Prefab,toast:cc.Node},onLoad:function(){this.globalNode=cc.find("globalNode"),this.bgmController=cc.find("bgmController"),this.coins=this.globalNode.gameData.coins,this.coinText.string=this.coins,this.generateBullet(),this.schedule(function(){0<this.globalNode.giftCount&&(this.globalNode.giftCount-=1)},1)},generateBullet:function(){var t=void 0;this.schedule(function(){15<this.adBtn.buyId?this.fireMode=3:7<this.adBtn.buyId?this.fireMode=2:this.fireMode=1,1.2===this.fighter.scaleX&&(1===this.fireMode?((t=cc.instantiate(this.bullet)).getComponent("bullet").init(),t.parent=this.battleLayer,t.setPosition(this.fighter.x,this.fighter.y)):2===this.fireMode?((t=cc.instantiate(this.bullet)).getComponent("bullet").init(),t.parent=this.battleLayer,t.setPosition(this.fighter.x+50,this.fighter.y),(t=cc.instantiate(this.bullet)).getComponent("bullet").init(),t.parent=this.battleLayer,t.setPosition(this.fighter.x-50,this.fighter.y)):3===this.fireMode&&((t=cc.instantiate(this.bullet)).getComponent("bullet").init(),t.parent=this.battleLayer,t.setPosition(this.fighter.x,this.fighter.y),(t=cc.instantiate(this.bullet)).rotation=5,t.getComponent("bullet").init(),t.parent=this.battleLayer,t.setPosition(this.fighter.x+50,this.fighter.y),(t=cc.instantiate(this.bullet)).rotation=-5,t.getComponent("bullet").init(),t.parent=this.battleLayer,t.setPosition(this.fighter.x-50,this.fighter.y)))},.1)},coinBtnCallback:function(){var t=this,e=this.coinBtn.buyId,i=Number(this.coinNum.string);if(this.coins>=i){var o=this.globalNode.gameData.buyList;(o=o.split(""))[e]="1",this.globalNode.gameData.buyList=o.join(""),this.coins-=i,this.globalNode.gameData.ship=e,cc.sys.localStorage.setItem("coins",this.coins),cc.sys.localStorage.setItem("buyList",this.globalNode.gameData.buyList),cc.sys.localStorage.setItem("ship",this.globalNode.gameData.ship),t.coinText.string=t.coins,t.globalNode.gameData.coins=t.coins,t.selectItem(e)}else t.toast.show("coin is not enough")},adBtnCallback:function(){var t=this,e=this.adBtn.buyId,i=Number(this.adNum.string.split(" ")[0]);if(1===i){t.globalNode.gameData.adView=0;var o=t.globalNode.gameData.buyList;(o=o.split(""))[e]="1",t.globalNode.gameData.buyList=o.join(""),t.globalNode.gameData.ship=e,t.selectItem(e),cc.sys.localStorage.setItem("adView",0),cc.sys.localStorage.setItem("buyList",t.globalNode.gameData.buyList),cc.sys.localStorage.setItem("ship",t.globalNode.gameData.ship)}else t.globalNode.gameData.adView+=1,t.adNum.string=i-1+" LEFT",cc.sys.localStorage.setItem("adView",t.globalNode.gameData.adView);document.getElementById("googleAds").style.display="block",document.getElementById("ad7").style.display="block"},backBtnCallback:function(){cc.director.loadScene("mainScene")},playBtnCallback:function(){cc.instantiate(this.loadingPanel).parent=this.node,cc.director.loadScene("gameScene")},selectItem:function(t){var e=void 0;t<12?e=cc.find("Canvas/shop_page/view/content/page_1").children[t]:t<24&&(e=cc.find("Canvas/shop_page/view/content/page_2").children[t-12]),cc.find("disable_selected",e).active=!1,cc.find("selected",e).active=!0,cc.find("price",e).getComponent(cc.Label).string="owned",this.adBtn.active=!1,this.coinBtn.active=!1,this.playBtn.active=!0}}),cc._RF.pop()},{}],shrapnel:[function(t,e,i){"use strict";cc._RF.push(e,"60c427JQCROpocBjggTQj5J","shrapnel"),cc.Class({extends:cc.Component,properties:{bullet:cc.Prefab},onLoad:function(){this.boardY=cc.find("Canvas").height/2,this.globalNode=cc.find("globalNode")},getBullet:function(t){var e=null;return(e=0<this.globalNode.bulletPool.size()?this.globalNode.bulletPool.get():cc.instantiate(this.bullet)).rotation=t||0,e.getComponent("bullet").init(),e},start:function(){var e=0;this.schedule(function(){var t=this.getBullet(e);t.parent=cc.find("Canvas/battle_layer"),t.setPosition(this.node.x,this.node.y),e+=20},.03)},update:function(t){this.node.rotation+=500*t,this.node.y+=500*t,this.node.y>this.boardY&&this.node.destroy()}}),cc._RF.pop()},{}],wave:[function(t,e,i){"use strict";cc._RF.push(e,"8d154K2D4BPoKVtCBUcaorE","wave"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(t,e){this.node.destroy()},update:function(t){this.node.y-=1500*t,(1200<this.node.y||this.node.y<-1200||600<this.node.x||this.node.x<-600)&&this.node.destroy()}}),cc._RF.pop()},{}]},{},["fb_module_setting_BtnSettingEffect","fb_module_setting_BtnSettingMusic","fb_module_setting_NodeSettingBtn","fb_module_setting_NodeSettingLogo","fb_module_setting_SettingScene","bgmController","module_loading_AnimateLoading","module_loading_LoadingOar","module_splash_SplashScene","module_toast","AnimateFadeIn","CanvasAuto","CommonButton","SharePic","RewardPanel","EffectForShaderToy","boss","bullet","coin","enemy","enemy_bullet","fighter","galaxy","game","getNewShip","item","magnetCircle","main","planet","ray","shield","shop","shopItem","shrapnel","wave","ccShader_Default_Vert","ccShader_Default_Vert_noMVP"]);